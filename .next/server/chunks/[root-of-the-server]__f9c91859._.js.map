{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/alokkumar/orchids-projects/carbon%20Track/src/lib/auth.ts"],"sourcesContent":["import { betterAuth } from \"better-auth\";\nimport { mongodbAdapter } from \"better-auth/adapters/mongodb\";\nimport { bearer } from \"better-auth/plugins\";\nimport { NextRequest } from 'next/server';\nimport { headers } from \"next/headers\"\nimport { MongoClient } from \"mongodb\";\n\nconst client = new MongoClient(process.env.MONGODB_URI!);\nconst db = client.db();\n \nexport const auth = betterAuth({\n\tdatabase: mongodbAdapter(db, {\n\t\tclient\n\t}),\n\tbaseURL: process.env.BETTER_AUTH_URL || \"http://localhost:3000\",\n\ttrustedOrigins: [\"http://localhost:3000\", \"http://localhost:3001\", \"http://192.168.137.1:3000\", \"http://192.168.1.6:3000\"],\n\temailAndPassword: {    \n\t\tenabled: true\n\t},\n\tuser: {\n\t\tdeleteUser: {\n\t\t\tenabled: true\n\t\t},\n\t\tchangeEmail: {\n\t\t\tenabled: true\n\t\t}\n\t},\n\tplugins: [bearer()]\n});\n\n// Session validation helper\nexport async function getCurrentUser(request: NextRequest) {\n  const session = await auth.api.getSession({ headers: await headers() });\n  return session?.user || null;\n}"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;;;;;;AAEA,MAAM,SAAS,IAAI,uGAAA,CAAA,cAAW,CAAC,QAAQ,GAAG,CAAC,WAAW;AACtD,MAAM,KAAK,OAAO,EAAE;AAEb,MAAM,OAAO,CAAA,GAAA,0PAAA,CAAA,aAAU,AAAD,EAAE;IAC9B,UAAU,CAAA,GAAA,8PAAA,CAAA,iBAAc,AAAD,EAAE,IAAI;QAC5B;IACD;IACA,SAAS,QAAQ,GAAG,CAAC,eAAe,IAAI;IACxC,gBAAgB;QAAC;QAAyB;QAAyB;QAA6B;KAA0B;IAC1H,kBAAkB;QACjB,SAAS;IACV;IACA,MAAM;QACL,YAAY;YACX,SAAS;QACV;QACA,aAAa;YACZ,SAAS;QACV;IACD;IACA,SAAS;QAAC,CAAA,GAAA,6MAAA,CAAA,SAAM,AAAD;KAAI;AACpB;AAGO,eAAe,eAAe,OAAoB;IACvD,MAAM,UAAU,MAAM,KAAK,GAAG,CAAC,UAAU,CAAC;QAAE,SAAS,MAAM,CAAA,GAAA,uKAAA,CAAA,UAAO,AAAD;IAAI;IACrE,OAAO,SAAS,QAAQ;AAC1B","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///Users/alokkumar/orchids-projects/carbon%20Track/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { headers } from \"next/headers\";\nimport { auth } from \"@/lib/auth\";\n \nexport async function middleware(request: NextRequest) {\n\tconst session = await auth.api.getSession({\n\t\theaders: await headers()\n\t})\n \n\tif(!session) {\n\t\treturn NextResponse.redirect(new URL(\"/sign-in\", request.url));\n\t}\n \n\treturn NextResponse.next();\n}\n \nexport const config = {\n  runtime: \"nodejs\",\n  matcher: [\"/dashboard\"], // Apply middleware to specific routes\n};"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,WAAW,OAAoB;IACpD,MAAM,UAAU,MAAM,0JAAA,CAAA,OAAI,CAAC,GAAG,CAAC,UAAU,CAAC;QACzC,SAAS,MAAM,CAAA,GAAA,uKAAA,CAAA,UAAO,AAAD;IACtB;IAEA,IAAG,CAAC,SAAS;QACZ,OAAO,sKAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,YAAY,QAAQ,GAAG;IAC7D;IAEA,OAAO,sKAAA,CAAA,eAAY,CAAC,IAAI;AACzB;AAEO,MAAM,SAAS;IACpB,SAAS;IACT,SAAS;QAAC;KAAa;AACzB","debugId":null}}]
}